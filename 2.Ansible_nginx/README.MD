# Задание:  Подготовить стенд на Vagrant как минимум с одним сервером. На этом сервере используя Ansible необходимо развернуть nginx со следующими условиями:

- необходимо использовать модуль yum/apt;
-     конфигурационные файлы должны быть взяты из шаблона jinja2 с перемененными;
-     после установки nginx должен быть в режиме enabled в systemd;
-     должен быть использован notify для старта nginx после установки;
-     сайт должен слушать на нестандартном порту - 8080, для этого использовать переменные в Ansible.

Из предложенного в методичке Vagrant - файла был инициирован бокс на Centos, с единственным отлиичем - я использовал centos 8 (в методичке был centos 7)
Был создан плейбук для установки Nginx из стандартного репозитория Elrepo, nginx доступен на порту 8080 что было неоднократно проверено. Также в Centos 8 файрволл блокировал http и порт 8080 в плейбуке были использованы posix firewalld для добавления в исключение файрвола http и порта 8080. Дальше были инициированы роли командой ansible-galaxy init
Плейбук без ролей nginx.yml
Плейбук с ролями nginx_w_r.yml
P.S при проверке плейбука без ролей путь до шаблона nginx.conf.j2 прописан для его подтягивания из текущей директории, в плейбуке с ролями же шаблон закинут в папку templates
